{"version":3,"sources":["src\\util.js","src\\lc-city.js","src\\index.js","C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\bundle-url.js","C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\css-loader.js"],"names":["reUnit","_amId","_amDisplay","requestAnimationFrame","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","Error","getAmId","obj","setAmDisplay","elem","display","id","getAmDisplay","addClass","el","className","document","querySelectorAll","els","NodeList","slice","call","forEach","hasClass","e","classList","add","removeClass","remove","replace","RegExp","split","join","querySelector","contains","test","toggleClass","flag","insertAfter","newEl","targetEl","parent","parentNode","lastChild","appendChild","insertBefore","nextSibling","node","removeChild","forceReflow","offsetHeight","getDocumentScrollTop","documentElement","scrollTop","body","setDocumentScrollTop","value","scrollTo","outerHeight","outerHeightWithMargin","height","style","getComputedStyle","parseFloat","marginTop","marginBottom","outerWidth","offsetWidth","outerWidthWithMargin","width","marginLeft","marginRight","getComputedStyles","ownerDocument","defaultView","getOffset","html","box","top","left","getBoundingClientRect","pageYOffset","clientTop","pageXOffset","clientLeft","getPosition","offsetLeft","offsetTop","setStyle","att","val","isNaN","Number","setStyles","hash","HAS_CSSTEXT_FEATURE","cssText","trim","str","originStyleText","originStyleObj","getAttribute","item","indexOf","styleObj","Object","keys","mergedStyleObj","assign","styleText","map","setAttribute","getStyle","win","computed","getPageSize","xScroll","yScroll","innerHeight","scrollMaxY","innerWidth","scrollMaxX","scrollHeight","scrollWidth","windowWidth","windowHeight","self","clientWidth","clientHeight","pageHeight","pageWidth","get","selector","getAll","parentsUntil","filter","result","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","parentElement","push","closest","_showHide","show","values","length","index","elements","hide","toggle","element","to","duration","diff","perTick","Math","abs","is","oMatchesSelector","styles","boxSizing","borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","borderTopWidth","borderBottomWidth","paddingTop","paddingBottom","LcCity","option","select","province","city","district","ShortData","isFill","fillCount","data","init","renderHtml","getElement","getDataProvince","bindEvent","div","createElement","innerHTML","lcCitySelect","getElementById","lcCityMask","lcErrorTip","lcCancel","lcConfirm","lcNav","lcCenter","lcProvince","lcCity","lcDistrict","confirm","cancel","errMsg","addEventListener","close","key","errorTip","getSelect","arr","cityData","renderProvince","i","leng","onProvince","renderNav","renderCity","onCity","fillCity","addTranx","renderDistrict","onDistrict","fillDistrict","aLi","getElementsByTagName","_this","_lc","getDataCity","getDataDistrict","aSpan","nav","onNav","removeTranx","event","offset","backfill","console","error","fillProvince","liHeight","baseInput","defaultInput","baseCity","log","bundleURL","getBundleURLCached","getBundleURL","err","stack","match","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","Date","now","cssTimeout","reloadCSS","links","module"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjCf;;;;;;AAGA,IAAIqE,YAAYhO,SAAS+K,cAAT,CAAwB,MAAxB,CAAhB;AACA,IAAIkD,eAAejO,SAAS+K,cAAT,CAAwB,SAAxB,CAAnB;;AAEA,IAAImD,WAAW,IAAItE,gBAAJ,CAAW;AACxB6B,WAAS,iBAAUpB,IAAV,EAAgB;AACvBuD,YAAQO,GAAR,CAAY,SAAZ,EAAuB9D,IAAvB;AACA2D,cAAUxL,KAAV,GAAkB6H,IAAlB;AACD;AAJuB,CAAX,CAAf;;AAOA2D,UAAUpC,gBAAV,CAA2B,OAA3B,EAAoC,UAASpL,CAAT,EAAY;AAC9CoN,UAAQO,GAAR,CAAY3N,CAAZ;AACA0N,WAAShG,IAAT,CAAc,IAAd;AACD,CAHD;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"src.ac0c265b.map","sourceRoot":"..","sourcesContent":["/* eslint no-unused-expressions: 0 */\nconst reUnit = /width|height|top|left|right|bottom|margin|padding/i;\nlet _amId = 1;\nconst _amDisplay = {};\n\nlet requestAnimationFrame;\nif (typeof window !== 'undefined') {\n  requestAnimationFrame = window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    function(callback) {\n      window.setTimeout(callback, 1000 / 60);\n    };\n} else {\n  requestAnimationFrame = function() {\n    throw new Error('requestAnimationFrame is not supported, maybe you are running in the server side');\n  };\n}\n\nfunction getAmId(obj) {\n  return obj._amId || (obj._amId = _amId++);\n}\n\nfunction setAmDisplay(elem, display) {\n  const id = getAmId(elem);\n  _amDisplay[`_am_${id}`] = display;\n}\n\nfunction getAmDisplay(elem) {\n  const id = getAmId(elem);\n  return _amDisplay[`_am_${id}`];\n}\n\nexport default {\n  // el can be an Element, NodeList or selector\n  addClass(el, className) {\n    if (typeof el === 'string') el = document.querySelectorAll(el);\n    const els = (el instanceof NodeList) ? [].slice.call(el) : [el];\n\n    els.forEach(e => {\n      if (this.hasClass(e, className)) { return; }\n\n      if (e.classList) {\n        e.classList.add(className);\n      } else {\n        e.className += ' ' + className;\n      }\n    });\n  },\n\n  // el can be an Element, NodeList or selector\n  removeClass(el, className) {\n    if (typeof el === 'string') el = document.querySelectorAll(el);\n    const els = (el instanceof NodeList) ? [].slice.call(el) : [el];\n\n    els.forEach(e => {\n      if (this.hasClass(e, className)) {\n        if (e.classList) {\n          e.classList.remove(className);\n        } else {\n          e.className = e.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n        }\n      }\n    });\n  },\n\n  // el can be an Element or selector\n  hasClass(el, className) {\n    if (typeof el === 'string') el = document.querySelector(el);\n    if (el.classList) {\n      return el.classList.contains(className);\n    }\n    return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n  },\n\n  // el can be an Element or selector\n  toggleClass(el, className) {\n    if (typeof el === 'string') el = document.querySelector(el);\n    const flag = this.hasClass(el, className);\n    if (flag) {\n      this.removeClass(el, className);\n    } else {\n      this.addClass(el, className);\n    }\n    return flag;\n  },\n\n  insertAfter(newEl, targetEl) {\n    const parent = targetEl.parentNode;\n\n    if (parent.lastChild === targetEl) {\n      parent.appendChild(newEl);\n    } else {\n      parent.insertBefore(newEl, targetEl.nextSibling);\n    }\n  },\n\n  // el can be an Element, NodeList or query string\n  remove(el) {\n    if (typeof el === 'string') {\n      [].forEach.call(document.querySelectorAll(el), node => {\n        node.parentNode.removeChild(node);\n      });\n    } else if (el.parentNode) {\n      // it's an Element\n      el.parentNode.removeChild(el);\n    } else if (el instanceof NodeList) {\n      // it's an array of elements\n      [].forEach.call(el, node => {\n        node.parentNode.removeChild(node);\n      });\n    } else {\n      throw new Error('you can only pass Element, array of Elements or query string as argument');\n    }\n  },\n\n  forceReflow(el) {\n    el.offsetHeight;\n  },\n\n  getDocumentScrollTop() {\n    // IE8 used `document.documentElement`\n    return (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\n  },\n\n  // Set the current vertical position of the scroll bar for document\n  // Note: do not support fixed position of body\n  setDocumentScrollTop(value) {\n    window.scrollTo(0, value);\n    return value;\n  },\n\n  outerHeight(el) {\n    return el.offsetHeight;\n  },\n\n  outerHeightWithMargin(el) {\n    let height = el.offsetHeight;\n    const style = getComputedStyle(el);\n\n    height += (parseFloat(style.marginTop) || 0) + (parseFloat(style.marginBottom) || 0);\n    return height;\n  },\n\n  outerWidth(el) {\n    return el.offsetWidth;\n  },\n\n  outerWidthWithMargin(el) {\n    let width = el.offsetWidth;\n    const style = getComputedStyle(el);\n\n    width += (parseFloat(style.marginLeft) || 0) + (parseFloat(style.marginRight) || 0);\n    return width;\n  },\n\n  getComputedStyles(el) {\n    return el.ownerDocument.defaultView.getComputedStyle(el, null);\n  },\n\n  getOffset(el) {\n    const html = el.ownerDocument.documentElement;\n    let box = { top: 0, left: 0 };\n\n    // If we don't have gBCR, just use 0,0 rather than error\n    // BlackBerry 5, iOS 3 (original iPhone)\n    if ( typeof el.getBoundingClientRect !== 'undefined' ) {\n      box = el.getBoundingClientRect();\n    }\n\n    return {\n      top: box.top + window.pageYOffset - html.clientTop,\n      left: box.left + window.pageXOffset - html.clientLeft\n    };\n  },\n\n  getPosition(el) {\n    if (!el) {\n      return {\n        left: 0,\n        top: 0\n      };\n    }\n\n    return {\n      left: el.offsetLeft,\n      top: el.offsetTop\n    };\n  },\n\n  setStyle(node, att, val, style) {\n    style = style || node.style;\n\n    if (style) {\n      if (val === null || val === '') { // normalize unsetting\n        val = '';\n      } else if (!isNaN(Number(val)) && reUnit.test(att)) { // number values may need a unit\n        val += 'px';\n      }\n\n      if (att === '') {\n        att = 'cssText';\n        val = '';\n      }\n\n      style[att] = val;\n    }\n  },\n\n  setStyles(el, hash) {\n    const HAS_CSSTEXT_FEATURE = typeof(el.style.cssText) !== 'undefined';\n    function trim(str) {\n      return str.replace(/^\\s+|\\s+$/g, '');\n    }\n    let originStyleText;\n    const originStyleObj = {};\n    if (!!HAS_CSSTEXT_FEATURE) {\n      originStyleText = el.style.cssText;\n    } else {\n      originStyleText = el.getAttribute('style');\n    }\n    originStyleText.split(';').forEach(item => {\n      if (item.indexOf(':') !== -1) {\n        const obj = item.split(':');\n        originStyleObj[trim(obj[0])] = trim(obj[1]);\n      }\n    });\n\n    const styleObj = {};\n    Object.keys(hash).forEach(item => {\n      this.setStyle(el, item, hash[item], styleObj);\n    });\n    const mergedStyleObj = Object.assign({}, originStyleObj, styleObj);\n    const styleText = Object.keys(mergedStyleObj)\n        .map(item => item + ': ' + mergedStyleObj[item] + ';')\n        .join(' ');\n\n    if (!!HAS_CSSTEXT_FEATURE) {\n      el.style.cssText = styleText;\n    } else {\n      el.setAttribute('style', styleText);\n    }\n  },\n\n  getStyle(el, att, style) {\n    style = style || el.style;\n\n    let val = '';\n\n    if (style) {\n      val = style[att];\n\n      if (val === '') {\n        val = this.getComputedStyle(el, att);\n      }\n    }\n\n    return val;\n  },\n\n  // NOTE: Known bug, will return 'auto' if style value is 'auto'\n  getComputedStyle(el, att) {\n    const win = el.ownerDocument.defaultView;\n    // null means not return presudo styles\n    const computed = win.getComputedStyle(el, null);\n\n    return att ? computed[att] : computed;\n  },\n\n  getPageSize() {\n    let xScroll, yScroll;\n\n    if (window.innerHeight && window.scrollMaxY) {\n      xScroll = window.innerWidth + window.scrollMaxX;\n      yScroll = window.innerHeight + window.scrollMaxY;\n    } else {\n      if (document.body.scrollHeight > document.body.offsetHeight) { // all but Explorer Mac\n        xScroll = document.body.scrollWidth;\n        yScroll = document.body.scrollHeight;\n      } else { // Explorer Mac...would also work in Explorer 6 Strict, Mozilla and Safari\n        xScroll = document.body.offsetWidth;\n        yScroll = document.body.offsetHeight;\n      }\n    }\n\n    let windowWidth, windowHeight;\n\n    if (self.innerHeight) { // all except Explorer\n      if (document.documentElement.clientWidth) {\n        windowWidth = document.documentElement.clientWidth;\n      } else {\n        windowWidth = self.innerWidth;\n      }\n      windowHeight = self.innerHeight;\n    } else {\n      if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode\n        windowWidth = document.documentElement.clientWidth;\n        windowHeight = document.documentElement.clientHeight;\n      } else {\n        if (document.body) { // other Explorers\n          windowWidth = document.body.clientWidth;\n          windowHeight = document.body.clientHeight;\n        }\n      }\n    }\n\n    let pageHeight, pageWidth;\n\n    // for small pages with total height less then height of the viewport\n    if (yScroll < windowHeight) {\n      pageHeight = windowHeight;\n    } else {\n      pageHeight = yScroll;\n    }\n    // for small pages with total width less then width of the viewport\n    if (xScroll < windowWidth) {\n      pageWidth = xScroll;\n    } else {\n      pageWidth = windowWidth;\n    }\n\n    return {\n      pageWidth: pageWidth,\n      pageHeight: pageHeight,\n      windowWidth: windowWidth,\n      windowHeight: windowHeight\n    };\n  },\n\n  get(selector) {\n    return document.querySelector(selector) || {};\n  },\n\n  getAll(selector) {\n    return document.querySelectorAll(selector);\n  },\n\n  // selector 可选。字符串值，规定在何处停止对祖先元素进行匹配的选择器表达式。\n  // filter   可选。字符串值，包含用于匹配元素的选择器表达式。\n  parentsUntil(el, selector, filter) {\n    const result = [];\n    const matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;\n    // match start from parent\n    el = el.parentElement;\n    while (el && !matchesSelector.call(el, selector)) {\n      if (!filter) {\n        result.push(el);\n      } else {\n        if (matchesSelector.call(el, filter)) {\n          result.push(el);\n        }\n      }\n      el = el.parentElement;\n    }\n    return result;\n  },\n\n  // 获得匹配选择器的第一个祖先元素，从当前元素开始沿 DOM 树向上\n  closest(el, selector) {\n    const matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;\n\n    while (el) {\n      if (matchesSelector.call(el, selector)) {\n        return el;\n      }\n\n      el = el.parentElement;\n    }\n    return null;\n  },\n\n  // el can be an Element, NodeList or selector\n  _showHide(el, show ) {\n    if (typeof el === 'string') el = document.querySelectorAll(el);\n    const els = (el instanceof NodeList) ? [].slice.call(el) : [el];\n    let display;\n    const values = [];\n    if (els.length === 0) {\n      return;\n    }\n    els.forEach((e, index) => {\n      if (e.style) {\n        display = e.style.display;\n        if (show) {\n          if (display === 'none') {\n            values[index] = getAmDisplay(e) || '';\n          }\n        } else {\n          if (display !== 'none') {\n            values[index] = 'none';\n            setAmDisplay(e, display);\n          }\n        }\n      }\n    });\n\n    els.forEach((e, index) => {\n      if ( values[index] !== null ) {\n        els[index].style.display = values[index];\n      }\n    });\n  },\n\n  show(elements) {\n    this._showHide(elements, true);\n  },\n\n  hide(elements) {\n    this._showHide(elements, false);\n  },\n\n  toggle(element) {\n    if (element.style.display === 'none') {\n      this.show(element);\n    } else {\n      this.hide(element);\n    }\n  },\n\n  /**\n   * scroll to location with animation\n   * @param  {Number} to       to assign the scrollTop value\n   * @param  {Number} duration assign the animate duration\n   * @return {Null}            return null\n   */\n  scrollTo(to = 0, duration = 16) {\n    if (duration < 0) {\n      return;\n    }\n    const diff = to - this.getDocumentScrollTop();\n    if (diff === 0) {\n      return;\n    }\n    const perTick = diff / duration * 10;\n    requestAnimationFrame(() => {\n      if (Math.abs(perTick) > Math.abs(diff)) {\n        this.setDocumentScrollTop(this.getDocumentScrollTop() + diff);\n        return;\n      }\n      this.setDocumentScrollTop(this.getDocumentScrollTop() + perTick);\n      if (diff > 0 && this.getDocumentScrollTop() >= to || diff < 0 && this.getDocumentScrollTop() <= to) {\n        return;\n      }\n      this.scrollTo(to, duration - 16);\n    });\n  },\n\n  // matches(el, '.my-class'); 这里不能使用伪类选择器\n  is(el, selector) {\n    return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\n  },\n\n  width(el) {\n    const styles = this.getComputedStyles(el);\n    const width = parseFloat(styles.width.indexOf('px') !== -1 ? styles.width : 0);\n\n    const boxSizing = styles.boxSizing || 'content-box';\n    if (boxSizing === 'border-box') {\n      return width;\n    }\n\n    const borderLeftWidth = parseFloat(styles.borderLeftWidth);\n    const borderRightWidth = parseFloat(styles.borderRightWidth);\n    const paddingLeft = parseFloat(styles.paddingLeft);\n    const paddingRight = parseFloat(styles.paddingRight);\n    return width - borderRightWidth - borderLeftWidth - paddingLeft - paddingRight;\n  },\n\n  height(el) {\n    const styles = this.getComputedStyles(el);\n    const height = parseFloat(styles.height.indexOf('px') !== -1 ? styles.height : 0);\n\n    const boxSizing = styles.boxSizing || 'content-box';\n    if (boxSizing === 'border-box') {\n      return height;\n    }\n\n    const borderTopWidth = parseFloat(styles.borderTopWidth);\n    const borderBottomWidth = parseFloat(styles.borderBottomWidth);\n    const paddingTop = parseFloat(styles.paddingTop);\n    const paddingBottom = parseFloat(styles.paddingBottom);\n    return height - borderBottomWidth - borderTopWidth - paddingTop - paddingBottom;\n  }\n};\n","import './lc-city.css';\r\nimport cityData from './data.json';\r\nimport _lc from './util.js';\r\n\r\nexport default class LcCity {\r\n  constructor(option) {\r\n    this.option = option;\r\n    this.el = {}; // 存储页面元素\r\n    // 选中的数据\r\n    this.select = {\r\n      province: '',\r\n      city    : '',\r\n      district: '',\r\n    };\r\n    // 临时保存城市数据，后有大用\r\n    this.ShortData = {};\r\n\r\n    this.isFill = false;    // 是不是回填\r\n    this.fillCount = {};    // 记录回填的次数\r\n    // 判断是否有data数据，有就是回填\r\n    if (option.data) {\r\n      this.isFill = true;\r\n    };\r\n    \r\n    this.init();\r\n  }\r\n\r\n  // 初始化\r\n  init() {\r\n    this.renderHtml();\r\n    this.getElement();\r\n    // 其他绑定要放到消息队里中\r\n    setTimeout(() => {\r\n      this.getDataProvince();\r\n      this.bindEvent();\r\n    }, 30);\r\n  }\r\n  // 渲染页面\r\n  renderHtml() {\r\n    let html = `<div class=\"lc-city-body\">\r\n                  <div class=\"lc-titile\">\r\n                    <button class=\"lc-btn lc-cancel\" id=\"lcCancel\">取消</button>\r\n                    <h4 class=\"lc-top-title\">选择地区</h4>\r\n                    <button class=\"lc-btn lc-cancel\" id=\"lcConfirm\">确定</button>\r\n                  </div>\r\n                  <div class=\"lc-nav-wrap\" id=\"lcNav\">\r\n                    <span class=\"lc-nav active\">请选择</span>\r\n                  </div>\r\n                  <div class=\"lc-center\" id=\"lcCenter\">\r\n                    <ul class=\"lc-ul\">\r\n                    <div class=\"lc-scroll\" id=\"lcProvince\">\r\n                    </div>\r\n                    </ul>\r\n                    <ul class=\"lc-ul\">\r\n                      <div class=\"lc-scroll\" id=\"lcCity\">\r\n                      </div>\r\n                    </ul>\r\n                    <ul class=\"lc-ul\">\r\n                      <div class=\"lc-scroll\" id=\"lcDistrict\">\r\n                      </div>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div class=\"lc-city-mask\" id=\"lcCityMask\"></div>\r\n                <div class=\"lc-error-tip\" id=\"lcErrorTip\"></div>`;\r\n\r\n    let div = document.createElement('div');\r\n    div.className = 'lc-city-select';\r\n    div.id = 'lcCitySelect';\r\n    div.innerHTML = html;\r\n    document.body.appendChild(div);\r\n  }\r\n  // 获取页面元素\r\n  getElement() {\r\n    // 页面元素\r\n    this.el = {\r\n      lcCitySelect: document.getElementById('lcCitySelect'),\r\n      lcCityMask  : document.getElementById('lcCityMask'),\r\n      lcErrorTip  : document.getElementById('lcErrorTip'),\r\n      lcCancel    : document.getElementById('lcCancel'),\r\n      lcConfirm   : document.getElementById('lcConfirm'),\r\n      lcNav       : document.getElementById('lcNav'),\r\n      lcCenter    : document.getElementById('lcCenter'),\r\n      lcProvince  : document.getElementById('lcProvince'),\r\n      lcCity      : document.getElementById('lcCity'),\r\n      lcDistrict  : document.getElementById('lcDistrict'),\r\n    };\r\n  }\r\n  // 事件\r\n  bindEvent() {\r\n    let confirm = this.option.confirm,\r\n        cancel  = this.option.cancel,\r\n        select  = this.select,\r\n        errMsg  = '';\r\n\r\n    // 取消\r\n    this.el.lcCancel.addEventListener('click', () => {\r\n      typeof cancel === 'function' && cancel();\r\n      this.close();\r\n    });\r\n    // 确定\r\n    this.el.lcConfirm.addEventListener('click', () => {\r\n      // errMsg = '';\r\n      for (let key in select) {\r\n        if (!select[key]) {\r\n          switch (key) {\r\n            case 'province':\r\n              errMsg = '请选择省份'\r\n            break;\r\n            case 'city':\r\n              errMsg = '请选择城市'\r\n            break;\r\n            default:\r\n              errMsg = '请选择地区'\r\n            break;\r\n          }\r\n          this.errorTip(errMsg);\r\n          return;\r\n        }\r\n      };\r\n      typeof confirm === 'function' && confirm(this.getSelect());\r\n      this.close();\r\n    });\r\n\r\n    // 点击模态框也可以关闭\r\n    this.el.lcCityMask.addEventListener('click', () => {\r\n      this.close();\r\n    });\r\n  }\r\n\r\n  // 获取省份数据\r\n  getDataProvince() {\r\n    var arr = [];\r\n    for (var key in cityData) {\r\n      arr.push(key);\r\n    };\r\n    this.renderProvince(arr);   // 渲染省份\r\n  }\r\n  // 渲染省份\r\n  renderProvince(arr) {\r\n    if (!arr.length) {\r\n      return;\r\n    };\r\n    let html = '';\r\n\r\n    for (let i = 0, leng = arr.length; i < leng; i++) {\r\n      html += `<li class=\"lc-li\" data-val=\"${arr[i]}\">${arr[i]}<i class=\"icon\"></i></li>`\r\n    };\r\n    this.el.lcProvince.innerHTML = html;\r\n\r\n    this.onProvince();    // 给每个省份添加事件\r\n  }\r\n  // 根据省份获取城市数据\r\n  getDataCity(province) {\r\n    if (province === this.select.province) {\r\n      // console.log('点了同一个没有什么意思啊')\r\n      return\r\n    };\r\n\r\n    this.select.province = province;  // 保存已选中的省份\r\n    this.el.lcDistrict.innerHTML = '';    // 选择省份的时候，没有选中城市，要去掉区域\r\n\r\n    this.select.city = '';  // 更改省份之后，清空城市和区域\r\n    this.select.district = '';  // 更改省份之后，清空城市和区域\r\n    this.renderNav();   // 渲染导航，要在数据清除之后\r\n\r\n    let arr = [];\r\n\r\n    for (var key in cityData) {\r\n      if (key === province) {\r\n        this.ShortData = cityData[key];    // 保存省份下城市的所有数据，选中区域用到\r\n        for (var key in cityData[key]) {\r\n          arr.push(key);\r\n        };\r\n        break\r\n      };\r\n    };\r\n    this.renderCity(arr);   // 渲染城市\r\n  } \r\n  // 渲染城市\r\n  renderCity(arr) {\r\n    if (!arr.length) {\r\n      return;\r\n    };\r\n    let html = '';\r\n    for (let i = 0, leng = arr.length; i < leng; i++) {\r\n      html += `<li class=\"lc-li\" data-val=\"${arr[i]}\">${arr[i]}<i class=\"icon\"></i></li>`\r\n    };\r\n    this.el.lcCity.innerHTML = html;\r\n\r\n    this.onCity();    // 给每个城市添加事件\r\n\r\n    // 判断是否回填城市\r\n    if (this.isFill && !this.fillCount.city) {\r\n      this.fillCount.city = true;     // 只回填一次，否则要出大事\r\n      this.fillCity()\r\n    }\r\n  } \r\n  // 根据城市获取区域数据\r\n  getDataDistrict(city) {\r\n    if (city === this.select.city) {\r\n      // console.log('点了同一个没有什么意思啊')\r\n      return\r\n    };\r\n    \r\n    this.select.city = city;  // 保存已选中的城市\r\n    this.select.district = '';  // 更改城市之后，清空区域\r\n    this.renderNav();       // 渲染导航\r\n    this.addTranx();        // 添加偏移\r\n\r\n    let ShortData = this.ShortData,    // 省份下城市的所有数据\r\n        arr       = [];\r\n\r\n    for (var key in ShortData) {\r\n      if (key === city) {\r\n        arr = ShortData[key]\r\n      }\r\n    };\r\n\r\n    this.renderDistrict(arr);    // 渲染区域\r\n  }\r\n  // 渲染区域\r\n  renderDistrict(arr) {\r\n    if (!arr.length) {\r\n      return;\r\n    };\r\n    let html = '';\r\n    for (let i = 0, leng = arr.length; i < leng; i++) {\r\n      html += `<li class=\"lc-li\" data-val=\"${arr[i]}\">${arr[i]}<i class=\"icon\"></i></li>`\r\n    };\r\n    this.el.lcDistrict.innerHTML = html;\r\n\r\n    this.onDistrict();    // 给每个区域添加事件\r\n\r\n    // 判断是否回填区域\r\n    if (this.isFill && !this.fillCount.district) {\r\n      this.fillCount.district = true;\r\n      this.fillDistrict()\r\n    }\r\n  }\r\n  // 给每个省份添加事件\r\n  onProvince() {\r\n    let lcProvince  = this.el.lcProvince,\r\n        aLi         = lcProvince.getElementsByTagName('li'),\r\n        _this       = this,\r\n        val         = '';\r\n    \r\n    for (let i = 0, length = aLi.length; i < length; i++) {\r\n      aLi[i].addEventListener('click', function() {\r\n        // 先删除所有的class, 再给当前元素添加class\r\n        for (let i = 0, length = aLi.length; i < length; i++) {\r\n          _lc.removeClass(aLi[i], 'active');\r\n        };\r\n        _lc.addClass(this, 'active');\r\n\r\n        // 拿到选中的省份，根据省份拿城市\r\n        _this.getDataCity(this.getAttribute('data-val'));\r\n      });\r\n    };\r\n  }\r\n  // 给每个城市添加事件\r\n  onCity() {\r\n    let lcCity  = this.el.lcCity,\r\n        aLi         = lcCity.getElementsByTagName('li'),\r\n        _this       = this,\r\n        val         = '';\r\n    \r\n    for (let i = 0, length = aLi.length; i < length; i++) {\r\n      aLi[i].addEventListener('click', function() {\r\n        // 先删除所有的class, 再给当前元素添加class\r\n        for (let i = 0, length = aLi.length; i < length; i++) {\r\n          _lc.removeClass(aLi[i], 'active');\r\n        };\r\n        _lc.addClass(this, 'active');\r\n\r\n        // 拿到选中的城市，根据城市拿地区\r\n        _this.getDataDistrict(this.getAttribute('data-val'));\r\n      });\r\n    };\r\n  }\r\n  // 给每个区域添加事件\r\n  onDistrict() {\r\n    let lcDistrict  = this.el.lcDistrict,\r\n        aLi         = lcDistrict.getElementsByTagName('li'),\r\n        _this       = this,\r\n        val         = '';\r\n    \r\n    for (let i = 0, length = aLi.length; i < length; i++) {\r\n      aLi[i].addEventListener('click', function() {\r\n        // 先删除所有的class, 再给当前元素添加class\r\n        for (let i = 0, length = aLi.length; i < length; i++) {\r\n          _lc.removeClass(aLi[i], 'active');\r\n        };\r\n        _lc.addClass(this, 'active');\r\n\r\n        val = this.getAttribute('data-val');\r\n        // 判断是否点击相同选项\r\n        if (val !== _this.select.district) {\r\n          _this.select.district = val;  // 保存已选中的城市\r\n          _this.renderNav();\r\n        }\r\n      });\r\n    };\r\n  }\r\n\r\n  // 渲染导航\r\n  renderNav() {\r\n    let lcNav   = this.el.lcNav,\r\n        aSpan   = lcNav.getElementsByTagName('span'),\r\n        select  = this.select,\r\n        index   = 0,    // 下标记录\r\n        html    = '';\r\n\r\n    // console.log(select)\r\n    for (let key in select) {\r\n      if (select[key]) {\r\n        html += `<span class=\"lc-nav\">${select[key]}</span>`;\r\n        index++\r\n      }\r\n      else {\r\n        html += `<span class=\"lc-nav\">请选择</span>`;\r\n        if (index === 1) {    // 选中省份的时候，只需要个请选择项\r\n          break\r\n        }\r\n      }\r\n    };\r\n    lcNav.innerHTML = html;\r\n\r\n    setTimeout(() => {\r\n      _lc.addClass(aSpan[index-1], 'active');   // 给对应的选项添加class\r\n\r\n      // 如果是回填，这里添加class有点不一样了\r\n      if (this.isFill) {\r\n        this.fillCount.nav = true;    // 只执行一次\r\n        for (let i = 0, length = aSpan.length; i < length; i++) {\r\n          _lc.removeClass(aSpan[i], 'active');\r\n        };\r\n        _lc.addClass(aSpan[aSpan.length-1], 'active');   // 给对应的选项添加class\r\n      };\r\n    }, 30);\r\n    \r\n    this.onNav();   // 给导航添加事件\r\n  }\r\n  // 给导航添加事件\r\n  onNav() {\r\n    let lcNav     = this.el.lcNav,\r\n        aSpan     = lcNav.getElementsByTagName('span'),\r\n        length    = aSpan.length;\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      aSpan[i].addEventListener('click', () => {\r\n\r\n        for (let i = 0; i < length; i++) {\r\n          _lc.removeClass(aSpan[i], 'active');\r\n        }\r\n        _lc.addClass(aSpan[i], 'active');\r\n\r\n        // 导航点击功能只是起到一个容器滑动的作用\r\n        if (i === 0 || i=== 1) {\r\n          this.removeTranx();\r\n        }\r\n        else {\r\n          this.addTranx();\r\n        }\r\n      });\r\n    };\r\n  }\r\n\r\n  // 错误提示\r\n  errorTip(errMsg) {\r\n    let lcErrorTip = this.el.lcErrorTip;\r\n\r\n    lcErrorTip.innerHTML = errMsg;\r\n\r\n    _lc.addClass(lcErrorTip, 'lc-show');\r\n    setTimeout(() => {\r\n      _lc.removeClass(lcErrorTip, 'lc-show');\r\n    }, 1500);\r\n  }\r\n\r\n  // 选中第二几城市的时候，容器要偏移\r\n  addTranx() {\r\n    let lcCenter = this.el.lcCenter;\r\n    if (!_lc.hasClass(lcCenter, 'tranx')) {\r\n      _lc.addClass(lcCenter, 'tranx');\r\n    }\r\n  }\r\n  // 取消容器的偏移\r\n  removeTranx() {\r\n    let lcCenter = this.el.lcCenter;\r\n    if (_lc.hasClass(lcCenter, 'tranx')) {\r\n      _lc.removeClass(lcCenter, 'tranx');\r\n    }\r\n  }\r\n\r\n  // 获取选中的数据，拼接成一个字符串\r\n  getSelect() {\r\n    let select  = this.select,\r\n        str     = '';\r\n\r\n    for (let key in select) {\r\n      str += select[key] + ' ';\r\n    };\r\n    return str;\r\n  }\r\n  // 获取选中的数据，直接返回一个对象\r\n  getSelectObj() {\r\n    return this.select;\r\n  }\r\n\r\n  // 打开，可以把当前点击触发打开的元素过来，pc端可以用到他的位置\r\n  show(event) {\r\n    // 判断是不是pc端打开\r\n    if (_lc.getPageSize().windowWidth > 768 && event) {\r\n      let offset = _lc.getOffset(event),\r\n          height = event.offsetHeight;\r\n          \r\n      this.el.lcCitySelect.style.top = offset.top + height + 'px';\r\n      this.el.lcCitySelect.style.left = offset.left + 'px';\r\n    }\r\n    \r\n    _lc.addClass(this.el.lcCitySelect, 'lc-show');\r\n    // 回填\r\n    if (this.isFill && !this.fillCount.show) {\r\n      this.fillCount.show = true;\r\n      this.backfill();\r\n    }\r\n  }\r\n  // 关闭\r\n  close() {\r\n    let lcCitySelect = this.el.lcCitySelect;\r\n    _lc.addClass(lcCitySelect, 'lc-close');\r\n\r\n    setTimeout(() => {\r\n      _lc.removeClass(lcCitySelect, 'lc-show');\r\n      _lc.removeClass(lcCitySelect, 'lc-close');\r\n    }, 300);\r\n  }\r\n\r\n  // 数据回填\r\n  backfill() {\r\n    let data    = this.option.data;\r\n\r\n    if (Object.keys(data).length !== 3) {\r\n      console.error('data里面的数据有问题，长度必须是3位');\r\n      return;\r\n    };\r\n\r\n    for (let key in data) {\r\n      if (key === 'province' && data[key]) {\r\n        // select.province = data[key];\r\n      }\r\n      else if (key === 'city' && data[key]) {\r\n        // select.city = data[key];\r\n      }\r\n      else if (key === 'district' && data[key]) {\r\n        // select.district = data[key];\r\n      }\r\n      else {\r\n        console.error('请检查你传入的字段是否匹配 ' + key);\r\n        return\r\n      }\r\n    };\r\n    this.fillProvince();    // 回填省份\r\n  }\r\n  // 回填省份\r\n  fillProvince() {\r\n    let province    = this.option.data.province,\r\n        lcProvince  = this.el.lcProvince,\r\n        aLi         = lcProvince.getElementsByTagName('li'),\r\n        liHeight    = aLi[0].offsetHeight;  // 一个li的高度\r\n\r\n    for (let i = 0, length = aLi.length; i < length; i++) {\r\n      if (aLi[i].getAttribute('data-val') === province) {\r\n        _lc.addClass(aLi[i], 'active');\r\n        // 设置滚动位置，让当前选中的元素居中显示\r\n        lcProvince.scrollTop = (i > 4 ? i - 4 : i) * liHeight;\r\n      }\r\n    };\r\n\r\n    this.getDataCity(province);\r\n  }\r\n  // 回填城市\r\n  fillCity() {\r\n    let city      = this.option.data.city,\r\n        lcCity    = this.el.lcCity,\r\n        aLi       = lcCity.getElementsByTagName('li'),\r\n        liHeight  = aLi[0].offsetHeight;  // 一个li的高度\r\n\r\n    for (let i = 0, length = aLi.length; i < length; i++) {\r\n      if (aLi[i].getAttribute('data-val') === city) {\r\n        _lc.addClass(aLi[i], 'active');\r\n        // 设置滚动位置，让当前选中的元素居中显示\r\n        if (i > 5) {\r\n          lcCity.scrollTop = (i - 4) * liHeight;\r\n        }\r\n      }\r\n    };\r\n\r\n    this.getDataDistrict(city);\r\n  }\r\n  // 回填区域\r\n  fillDistrict() {\r\n    let district      = this.option.data.district,\r\n        lcDistrict    = this.el.lcDistrict,\r\n        aLi       = lcDistrict.getElementsByTagName('li'),\r\n        liHeight  = aLi[0].offsetHeight;  // 一个li的高度\r\n\r\n    for (let i = 0, length = aLi.length; i < length; i++) {\r\n      if (aLi[i].getAttribute('data-val') === district) {\r\n        _lc.addClass(aLi[i], 'active');\r\n        // 设置滚动位置，让当前选中的元素居中显示\r\n        if (i > 5) {\r\n          lcDistrict.scrollTop = (i - 4) * liHeight;\r\n        }\r\n      }\r\n    };\r\n    // 最后，填入区域选项\r\n    this.select.district = this.option.data.district;\r\n  }\r\n};\r\n","import LcCity from './lc-city.js';\r\n\r\n\r\nvar baseInput = document.getElementById('base');\r\nvar defaultInput = document.getElementById('default');\r\n\r\nvar baseCity = new LcCity({\r\n  confirm: function (data) {\r\n    console.log('confirm', data)\r\n    baseInput.value = data\r\n  }\r\n});\r\n\r\nbaseInput.addEventListener('click', function(e) {\r\n  console.log(e)\r\n  baseCity.show(this);\r\n});\r\n\r\n// 有默认选项，进行回填\r\n// var defaultCity = new LcCity({\r\n//   data: {\r\n//     province: '江西省',\r\n//     city    : '南昌市',\r\n//     district: '青山湖区',\r\n//   },\r\n//   confirm: function (data) {\r\n//     console.log('default', data);\r\n//   }\r\n// });\r\n// defaultInput.addEventListener('click', function() {\r\n//   defaultCity.show();\r\n// });","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}